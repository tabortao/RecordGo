# 《中小学课表助手》项目需求书

## 1. 项目背景与目标
针对中小学生及家长，提供一个界面简洁、操作直观的课表管理工具。用户可以按学期、年级管理课程，并根据实际需求灵活配置双休日显示，确保主界面清晰展示每日学业安排。

## 2. 角色定义
*   **用户**：中小学生或家长。
*   **主要行为**：查看课表（主界面）、配置课表信息（设置界面）、自定义课程内容。

## 3. 功能需求详述

### 3.1 主页面 (Main View) - 核心展示区
*   **展示逻辑**：
    *   默认展示当前选定的“年级”和“学期”的课表。
    *   视图以周一至周五（或周一至周日）为横轴，课时（第1节至第N节）为纵轴。
    *   **非编辑状态**：主页面所有课程格子均不可直接编辑，防止误触导致数据丢失。
*   **视觉呈现**：
    *   **底纹颜色**：每种课程（如数学、语文）分配一种特定的底纹颜色，便于用户快速识别。同名课程颜色保持一致。
    *   **信息展示**：每个课程格内显示课程名称（如“数学”）。
    *   **头部状态栏**：显示当前选中的“XX年级 XX学期”。
*   **交互入口**：
    *   **设置按钮**：位于页面右上角，点击进入“设置中心”。

### 3.2 设置中心 (Settings) - 配置与管理
设置页面分为“基础配置”和“课程编排”两部分。

#### 3.2.1 基础信息设置
*   **年级设置**：提供下拉菜单或滚动选择器，涵盖“一年级”至“高三”。
*   **学期设置**：提供“上学期”和“下学期”切换选项。
*   **双休日开关**：
    *   开关1：显示/隐藏周六。
    *   开关2：显示/隐藏周日。
    *   （开启后，主页面宽度自适应增加对应列）。

#### 3.2.2 课程库管理
*   **内置课程选择**：系统预设常用课程：语文、数学、英语、物理、化学、生物、政治、历史、地理、体育、音乐、美术、信息技术、科学、自习等。
*   **自定义课程**：用户可点击“添加自定义”，输入课程名称。
*   **颜色分配**：用户可以为每种课程（包括内置和自定义）指定或由系统自动分配一种底纹颜色。

#### 3.2.3 课表编排（核心编辑区）
*   **分学期编排**：系统需支持分别设置“上学期”和“下学期”的课程数据。
*   **表格编辑**：提供一个可编辑的网格，用户点击某个格子（如周一第一节），弹出课程列表（内置+自定义）供用户勾选。
*   **保存机制**：编辑完成后点击“保存”，数据同步至后台数据库，主页面实时更新。

### 3.3 数据持久化需求
*   **账号绑定**：数据需保存至后台数据库，确保用户更换设备后登录即可获取课表。
*   **版本控制**：修改设置后，需确保本地缓存与数据库同步。

---

## 4. 界面设计要求 (UI/UX)
*   **风格**：清新、简约，符合中小学生审美，字体不宜过小。
*   **响应式**：适配不同尺寸的手机屏幕，确保7天模式下表格不拥挤。
*   **反馈**：保存成功、网络异常等需有明确的Toast（气泡）提示。

---

## 5. 业务流程逻辑
1.  **首次进入**：引导用户在设置页面选择年级、学期，并完成基本课表录入。
2.  **日常使用**：打开App即为主页面，展示当天的课表，左右滑动或上下滚动查看全周。
3.  **学期切换**：当用户在设置中将“上学期”改为“下学期”时，主页面自动载入下学期的对应课表数据。
4.  **动态调整**：若临时调课，用户需进入右上角设置，在编排区修改后保存。

---

## 6. 数据库表结构建议（逻辑层）
*   **用户表 (User)**：需增加保存用户的当前默认年级, 当前默认学期设置。
*   **课程字典表 (Course_Dict)**：课程ID, 课程名称, 颜色代码, 所属用户ID（自定义课程）。
*   **课表数据表 (Timetable)**：记录ID, 用户ID, 年级, 学期, 星期几, 第几节课, 课程ID。
*   **配置表 (Config)**：用户ID, 是否显示周六, 是否显示周日。

---

## 7. 验收标准
1.  主页面是否能正确读取数据库中对应的年级/学期课表？
2.  主页面是否实现了“只读”模式？
3.  在设置中新增自定义课程，是否能即时出现在编排选项中？
4.  切换“隐藏周六/周日”开关，主页面布局是否正确调整？
5.  修改数据并保存后，断网重新登录，数据是否依然保持修改后的状态？
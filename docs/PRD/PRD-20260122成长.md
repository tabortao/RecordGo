# 成长模块 PRD（2026-01-22）

## 背景与目标
为孩子建立基础生长档案，记录身高、体重、裸眼视力、脚长等指标，并与个人信息（生日、性别、昵称）联动，形成可回溯的成长记录。

## 需求范围
### 入口与导航
1. 在“作业家-小成长”页面顶部增加“生长”按钮，点击进入“生长”页面。
2. “生长”页面为独立路由，隐藏底部导航。

### 生长主页
1. 支持浅色与深色模式，风格与现有页面一致。
2. 顶部展示孩子昵称（与“我的”页昵称一致）、年龄（根据生日自动计算）、性别。
3. 展示四类指标卡片：身高、体重、裸眼视力、脚长。
4. 每个指标卡片显示最近一次记录值与日期（无记录时显示“暂无记录”）。
5. 点击指标卡片进入对应记录页面。

### 记录页面（通用）
1. 展示历史记录列表（倒序，显示日期与数值）。
2. 提供“添加记录”入口，支持录入日期与数值。
3. 允许删除记录（删除后列表即时更新）。
4. 单条记录只包含：指标类型、日期、数值。

### 个人信息联动
1. “我的-编辑个人信息”新增字段：孩子生日、孩子性别。
2. 保存成功后同步到“生长”页面展示。

## 数据字段
### 用户资料（User）
- child_birthday：孩子生日（YYYY-MM-DD）
- child_gender：孩子性别（male/female/other/unknown）

### 生长记录（GrowthMetricRecord）
- id
- user_id
- metric_type（height/weight/vision/foot）
- record_date（YYYY-MM-DD）
- value（数值，float）
- created_at / updated_at

## 交互与校验
1. 记录日期不可为空，默认当天。
2. 数值必须为正数。
3. 无生日时年龄显示“未设置”。
4. 性别未设置时显示“未设置”。

## 接口与存储
所有数据存储于后台数据库（SQLite），前后端字段命名保持一致。

### API（建议）
- GET /growth/records?type=height
- POST /growth/records
- DELETE /growth/records/:id
- GET /user/profile
- PUT /user/profile

## 开发计划
1. 后端新增生长记录模型与接口，完成自动迁移与权限校验。
2. 前端新增生长页面与记录页面路由，完成指标卡片与历史列表。
3. 个人信息页新增生日与性别字段，与生长页面联动展示。
4. 联调接口与数据存储，完成分页与空态校验。
5. 验证浅色/深色模式表现与数据一致性。

# 成绩模块 PRD（2026-01-23）

## 背景与目标
为孩子建立学科成绩档案，记录日常测验、单元测评、期中期末等成绩，并与个人信息（昵称、年级、班级、学期）联动，形成可追踪的学习变化趋势与目标管理。

## 需求范围
### 入口与导航
1. 在“作业家-小成长”页面记录卡片最上方增加“成绩”按钮，点击进入“成绩”页面。
2. “成绩”页面为独立路由，隐藏底部导航。
3. 支持浅色与深色模式，风格与现有页面一致。

### 成绩主页
1. 顶部展示孩子昵称、年级、学期信息，数据与“我的/设置”页保持一致。
2. 提供学科筛选：语文、数学、英语、综合、自定义学科。
3. 提供时间筛选：本月/本学期/本学年/自定义区间。
4. 成绩记录按考试日期倒序排列，卡片展示考试名称、日期、分数、满分、学科、排名（可选）。
5. 统计模块展示平均分、最高分、最低分、及趋势折线（近 5 次）。
6. 空态显示引导文案与“新增成绩”入口。

### 新增与编辑
1. 支持新增成绩：学科、考试名称、考试日期、分数、满分、排名、班级均分、备注、照片（可选）。
2. 必填字段：学科、考试名称、考试日期、分数、满分。
3. 分数不得大于满分，日期默认当天，格式为 YYYY-MM-DD。
4. 支持编辑已创建的成绩，保存后列表与详情同步更新。

### 成绩详情
1. 展示完整成绩信息：考试名称、学科、日期、分数、满分、排名、班级均分、备注、照片。
2. 支持删除成绩，删除后返回列表并刷新。

## 数据字段
### 成绩记录（ScoreRecord）
- id
- user_id
- subject
- exam_name
- exam_date（YYYY-MM-DD）
- score
- full_score
- rank
- class_avg
- photo_url
- remark
- created_at / updated_at

## 交互与校验
1. 必填字段为空时给出明确提示。
2. 分数必须为非负数且不超过满分。
3. 允许缺省排名与班级均分。
4. 图片上传失败时提示并允许重试，图片可选。
5. 权限与数据隔离以用户维度为准，子账号仅访问自身数据。

## 接口与存储
1. 所有数据存储于后台数据库（SQLite），前后端字段命名保持一致。
2. 照片存储与 S3 对象存储，URL 存储于数据库。

### API（建议）
- GET /scores
- GET /scores/:id
- POST /scores
- PUT /scores/:id
- DELETE /scores/:id

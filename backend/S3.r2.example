cd g:\Code\RecordGo\backend

$env:SECRET_KEY = 'dev-secret'
$env:DB_PATH = 'storage/database/recordgo.db'
$env:STORAGE_ROOT = 'storage'
$env:PORT = '8082'
$env:GIN_MODE = 'debug'
$env:ALLOW_ORIGINS = 'http://localhost:5173'
$env:JWT_EXPIRE_DAYS = '365'

# Cloudflare R2 (S3-compatible)
$env:STORAGE_DRIVER = 's3'
$env:S3_PROVIDER = 'cloudflare'
# Endpoint: https://<ACCOUNT_ID>.r2.cloudflarestorage.com
$env:S3_ENDPOINT = 'https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com'
# Region: R2 uses 'auto'
$env:S3_REGION = 'auto'
$env:S3_BUCKET = 'YOUR_BUCKET_NAME'
$env:S3_ACCESS_KEY_ID = 'YOUR_ACCESS_KEY_ID'
$env:S3_SECRET_ACCESS_KEY = 'YOUR_SECRET_ACCESS_KEY'
# R2 typically works better with virtual-host style (false)
$env:S3_FORCE_PATH_STYLE = 'false'

# Public access domain (e.g. your-custom-domain.com or pub-xxx.r2.dev)
# If S3_FORCE_PATH_STYLE is false, URL is base/key
$env:S3_PUBLIC_BASE_URL = 'https://your-r2-public-domain.com'

# Key prefix (Folder): If you want to upload to a specific folder, set it here.
# For example, if you want all files to be in the "recordgo" folder, use 'recordgo'
$env:S3_KEY_PREFIX = 'recordgo'

# Other settings
$env:S3_PRESIGN_EXPIRE = '300'
$env:MAX_UPLOAD_SIZE_MB = '10'

go run ./cmd/server
